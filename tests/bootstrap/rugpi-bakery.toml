[repositories]
rugpi-extra = { git = "https://github.com/silitics/rugpi-extra.git", branch = "v0.6" }
tedge-rugpi-core = { git = "https://github.com/thin-edge/tedge-rugpi-core.git" }

[images.tryboot]
layer = "raspberrypi"
include_firmware = "none"

[images.generic-thin-edge]
layer = "with-thin-edge"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
include_firmware = "none"
boot_flow = "grub-efi"

[images.generic-thin-edge.layout]
kind = "gpt"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
kind = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = "boot/grub"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "3G"
label = "system-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = ""

[images.generic]
layer = "update-rugpi"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
include_firmware = "none"
boot_flow = "grub-efi"

[images.generic.layout]
kind = "gpt"

[[images.generic.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
kind = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"

[[images.generic.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = "boot/grub"

[[images.generic.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic.layout.partitions]]
filesystem = "ext4"
size = "3G"
label = "system-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = ""


[images.generic-vm]
layer = "update-rugpi"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
include_firmware = "none"
boot_flow = "grub-efi"
size = "32G"

[images.generic-vm.layout]
kind = "gpt"

[[images.generic-vm.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
kind = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = "boot/grub"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
size = "3G"
label = "system-a"
kind = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
path = ""