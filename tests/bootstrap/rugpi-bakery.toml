[repositories]
rugpi-extra = { git = "https://github.com/silitics/rugpi-extra.git", branch = "v0.6" }
tedge-rugpi-core = { git = "https://github.com/thin-edge/tedge-rugpi-core.git" }

[images.tryboot]
layer = "raspberrypi"

[images.generic-thin-edge]
layer = "with-thin-edge"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
boot_flow = "grub-efi"

[images.generic-thin-edge.layout]
type = "gpt"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
type = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"
root = "config"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "boot"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic-thin-edge.layout.partitions]]
filesystem = "ext4"
size = "3G"
label = "system-a"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "system"

[images.generic]
layer = "update-rugpi"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
boot_flow = "grub-efi"
# size = "32G"

[images.generic.layout]
type = "gpt"

[[images.generic.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
type = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"
root = "config"

[[images.generic.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "boot"

[[images.generic.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic.layout.partitions]]
filesystem = "ext4"
label = "system-a"
# size = "6G"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "system"


[images.generic-vm]
layer = "update-rugpi"  #a7870fde4dd0624c6f667ee1d5d9d6b8cbbdf5ff
architecture = "amd64"
boot_flow = "grub-efi"
size = "32G"

[images.generic-vm.layout]
type = "gpt"

[[images.generic-vm.layout.partitions]]
filesystem = "fat32"
size = "256M"
label = "efi"
type = "C12A7328-F81F-11D2-BA4B-00A0C93EC93B"
root = "config"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-a"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "boot"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
size = "128M"
label = "boot-b"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"

[[images.generic-vm.layout.partitions]]
filesystem = "ext4"
label = "system-a"
# size = "6G"
type = "0FC63DAF-8483-4772-8E79-3D69D8477DE4"
root = "system"